---
layout: false
---
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3Dåœ°çƒè¿åŠ¨è™šæ‹Ÿå®éªŒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            overflow: hidden;
            background: #000;
        }

        #canvas-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        /* ä¿¡æ¯æµ®çª—æ ·å¼ */
        #info-panel {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: #fff;
            padding: 15px 20px;
            border-radius: 10px;
            font-size: 14px;
            line-height: 1.8;
            z-index: 100;
            min-width: 250px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        #info-panel h3 {
            margin-bottom: 10px;
            color: #4CAF50;
            font-size: 16px;
        }

        #info-panel p {
            margin: 5px 0;
        }

        /* dat.GUI æ ·å¼è¦†ç›– */
        .dg {
            z-index: 200 !important;
        }

        .dg .c {
            color: #fff !important;
        }

        .dg .property-name {
            color: #fff !important;
        }

        /* æ§åˆ¶æŒ‰é’®é¢æ¿æ ·å¼ */
        #control-panel {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 150;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px 25px;
            border-radius: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .control-button {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            font-family: 'Microsoft YaHei', Arial, sans-serif;
        }

        .control-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        .control-button:active {
            transform: translateY(0);
        }

        .control-button.stop {
            background: linear-gradient(135deg, #f44336, #d32f2f);
            box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3);
        }

        .control-button.stop:hover {
            box-shadow: 0 6px 20px rgba(244, 67, 54, 0.4);
        }

        .control-button.zoom {
            background: linear-gradient(135deg, #2196F3, #1976D2);
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
        }

        .control-button.zoom:hover {
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4);
        }
    </style>
</head>
<body>
    <!-- 3Dç”»å¸ƒå®¹å™¨ -->
    <div id="canvas-container"></div>

    <!-- ä¿¡æ¯æ˜¾ç¤ºé¢æ¿ -->
    <div id="info-panel">
        <h3>ğŸŒ åœ°çƒè¿åŠ¨çŠ¶æ€</h3>
        <p id="season-info">å½“å‰å­£èŠ‚æ¨¡æ‹Ÿï¼šæ˜¥åˆ†</p>
        <p id="hemisphere-info">åŒ—åŠçƒå—å…‰ï¼šç›´å°„</p>
        <p id="axis-info">åœ°è½´å€¾è§’ï¼š23.5åº¦</p>
        <p id="rotation-info">è‡ªè½¬çŠ¶æ€ï¼šè¿›è¡Œä¸­</p>
    </div>

    <!-- æ§åˆ¶æŒ‰é’®é¢æ¿ -->
    <div id="control-panel">
        <button class="control-button" id="playPauseBtn">â¸ï¸ æš‚åœè¿åŠ¨</button>
        <button class="control-button zoom" id="zoomInBtn">ğŸ” æ”¾å¤§</button>
        <button class="control-button zoom" id="zoomOutBtn">ğŸ” ç¼©å°</button>
    </div>

    <!-- å¼•å…¥ Three.js (r128ç‰ˆæœ¬) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- å¼•å…¥ dat.GUI -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js"></script>

    <script>
        // ==================== å…¨å±€å˜é‡ ====================
        let scene, camera, renderer;
        let earthGroup, earthMesh; // åœ°çƒå®¹å™¨ç»„å’Œçƒä½“ç½‘æ ¼
        let sunLight; // å¤ªé˜³å…‰æº
        let axisHelper; // åœ°è½´è¾…åŠ©çº¿
        let controls; // dat.GUI æ§åˆ¶å¯¹è±¡
        let isPlaying = true; // è¿åŠ¨çŠ¶æ€ï¼štrueä¸ºè¿åŠ¨ï¼Œfalseä¸ºæš‚åœ
        let cameraDistance = 5; // ç›¸æœºè·ç¦»ï¼Œç”¨äºç¼©æ”¾æ§åˆ¶

        // æ§åˆ¶å‚æ•°
        const params = {
            åœ°è½´å€¾æ–œåº¦: 23.5, // é»˜è®¤23.5åº¦ï¼Œæ¨¡æ‹Ÿé»„èµ¤äº¤è§’
            è‡ªè½¬é€Ÿåº¦: 1.0, // è‡ªè½¬é€Ÿåº¦å€æ•°
            å…¬è½¬ä½ç½®: 0, // 0-360åº¦ï¼Œæ¨¡æ‹Ÿåœ°çƒåœ¨å…¬è½¬è½¨é“ä¸Šçš„ä½ç½®
            æ˜¾ç¤ºè¾…åŠ©çº¿: true // æ˜¯å¦æ˜¾ç¤ºåœ°è½´
        };

        // å­£èŠ‚åç§°æ˜ å°„ï¼ˆæ ¹æ®å…¬è½¬ä½ç½®ï¼‰
        const seasons = {
            0: 'æ˜¥åˆ†',
            90: 'å¤è‡³',
            180: 'ç§‹åˆ†',
            270: 'å†¬è‡³'
        };

        // ==================== åˆå§‹åŒ–åœºæ™¯ ====================
        function init() {
            // åˆ›å»ºåœºæ™¯
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x000000); // é»‘è‰²æ˜Ÿç©ºèƒŒæ™¯

            // åˆ›å»ºç›¸æœºï¼ˆé€è§†ç›¸æœºï¼‰
            camera = new THREE.PerspectiveCamera(
                75, // è§†é‡è§’åº¦
                window.innerWidth / window.innerHeight, // å®½é«˜æ¯”
                0.1, // è¿‘è£å‰ªé¢
                1000 // è¿œè£å‰ªé¢
            );
            camera.position.set(0, 0, 5); // è®¾ç½®ç›¸æœºä½ç½®

            // åˆ›å»ºæ¸²æŸ“å™¨
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.shadowMap.enabled = true; // å¯ç”¨é˜´å½±
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            // ==================== åˆ›å»ºå¤ªé˜³å…‰æº ====================
            // ä½¿ç”¨å¹³è¡Œå…‰æ¨¡æ‹Ÿå¤ªé˜³ï¼Œç¡®ä¿åœ°çƒä¸Šæœ‰æ¸…æ™°çš„æ™¨æ˜çº¿
            sunLight = new THREE.DirectionalLight(0xffffff, 1.5);
            sunLight.position.set(5, 0, 0); // åˆå§‹ä½ç½®åœ¨å³ä¾§
            sunLight.castShadow = true; // å¯ç”¨é˜´å½±æŠ•å°„
            scene.add(sunLight);

            // æ·»åŠ ç¯å¢ƒå…‰ï¼Œä½¿èƒŒå…‰é¢ä¸è‡³äºå®Œå…¨é»‘æš—
            const ambientLight = new THREE.AmbientLight(0x404040, 0.3);
            scene.add(ambientLight);

            // ==================== åˆ›å»ºåœ°çƒæ¨¡å‹ ====================
            // å¤–å±‚å®¹å™¨ç»„ï¼šè´Ÿè´£åœ°è½´å€¾æ–œï¼ˆZè½´æ—‹è½¬ï¼‰
            earthGroup = new THREE.Group();
            
            // åˆ›å»ºåœ°è½´è¾…åŠ©çº¿ï¼ˆäº®é»„è‰²ï¼Œè´¯ç©¿åœ°çƒå—åŒ—æï¼‰
            // åœ†æŸ±ä½“å‚æ•°ï¼šé¡¶éƒ¨åŠå¾„ï¼Œåº•éƒ¨åŠå¾„ï¼Œé«˜åº¦ï¼Œåˆ†æ®µæ•°
            // åœ°çƒåŠå¾„æ˜¯1ï¼Œæ‰€ä»¥åœ°è½´é•¿åº¦è®¾ä¸º2.5ï¼Œè®©å®ƒç¨å¾®çªå‡ºåœ°çƒè¡¨é¢ï¼Œæ›´å®¹æ˜“çœ‹åˆ°
            const axisGeometry = new THREE.CylinderGeometry(0.03, 0.03, 2.5, 16);
            const axisMaterial = new THREE.MeshBasicMaterial({ 
                color: 0xffff00, // äº®é»„è‰²ï¼Œåœ¨é»‘è‰²èƒŒæ™¯ä¸­æ›´æ¸…æ™°
                emissive: 0xffff00, // è‡ªå‘å…‰ï¼Œå¢å¼ºå¯è§æ€§
                emissiveIntensity: 0.8 // å‘å…‰å¼ºåº¦ï¼Œå¢å¼ºå¯è§æ€§
            });
            axisHelper = new THREE.Mesh(axisGeometry, axisMaterial);
            // åœ†æŸ±ä½“é»˜è®¤æ˜¯æ²¿ç€Yè½´çš„ï¼Œæ­£å¥½ç¬¦åˆåœ°è½´ä»åŒ—æåˆ°å—æçš„æ–¹å‘
            // åœ°è½´ä¼šéšç€earthGroupçš„Zè½´æ—‹è½¬è€Œå€¾æ–œï¼ˆæ¨¡æ‹Ÿé»„èµ¤äº¤è§’ï¼‰
            // ç¡®ä¿åœ°è½´ä»åœ°çƒä¸­å¿ƒç©¿è¿‡
            axisHelper.position.set(0, 0, 0);
            earthGroup.add(axisHelper);

            // å†…å±‚çƒä½“ï¼šè´Ÿè´£è‡ªè½¬ï¼ˆYè½´æ—‹è½¬ï¼‰
            const earthGeometry = new THREE.SphereGeometry(1, 64, 64);
            
            // å°è¯•åŠ è½½åœ°çƒçº¹ç†è´´å›¾
            const textureLoader = new THREE.TextureLoader();
            let earthMaterial;
            
            // ä½¿ç”¨ç½‘ç»œåœ°çƒçº¹ç†ï¼ˆå¦‚æœåŠ è½½å¤±è´¥ï¼Œä½¿ç”¨è“è‰²æè´¨ï¼‰
            textureLoader.load(
                'https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/planets/earth_atmos_2048.jpg',
                function(texture) {
                    // çº¹ç†åŠ è½½æˆåŠŸ
                    earthMaterial = new THREE.MeshPhongMaterial({
                        map: texture,
                        shininess: 0.1
                    });
                    earthMesh.material = earthMaterial;
                },
                undefined,
                function(error) {
                    // çº¹ç†åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨è“è‰²æè´¨ä½œä¸ºå¤‡ç”¨
                    console.warn('åœ°çƒçº¹ç†åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤è“è‰²æè´¨:', error);
                    earthMaterial = new THREE.MeshPhongMaterial({
                        color: 0x2233ff, // è“è‰²
                        shininess: 0.1
                    });
                    earthMesh.material = earthMaterial;
                }
            );

            // å…ˆåˆ›å»ºé»˜è®¤æè´¨ï¼ˆè“è‰²ï¼‰
            earthMaterial = new THREE.MeshPhongMaterial({
                color: 0x2233ff,
                shininess: 0.1
            });

            earthMesh = new THREE.Mesh(earthGeometry, earthMaterial);
            earthMesh.receiveShadow = true; // æ¥æ”¶é˜´å½±
            earthMesh.castShadow = true; // æŠ•å°„é˜´å½±
            earthGroup.add(earthMesh);

            // è®¾ç½®åœ°è½´å€¾æ–œï¼šå°†å®¹å™¨ç»„ç»•Zè½´æ—‹è½¬23.5åº¦
            // è¿™é‡Œè®¾ç½®23.5åº¦æ˜¯ä¸ºäº†æ¨¡æ‹Ÿé»„èµ¤äº¤è§’
            earthGroup.rotation.z = THREE.MathUtils.degToRad(params.åœ°è½´å€¾æ–œåº¦);

            scene.add(earthGroup);

            // ==================== åˆ›å»ºæ§åˆ¶é¢æ¿ (dat.GUI) ====================
            const gui = new dat.GUI({ autoPlace: true });
            gui.domElement.style.position = 'absolute';
            gui.domElement.style.top = '20px';
            gui.domElement.style.right = '20px';

            // åœ°è½´å€¾æ–œåº¦æ§åˆ¶å™¨
            gui.add(params, 'åœ°è½´å€¾æ–œåº¦', 0, 90, 0.1)
                .name('åœ°è½´å€¾æ–œåº¦ (Â°)')
                .onChange(function(value) {
                    // æ›´æ–°åœ°è½´å€¾æ–œè§’åº¦
                    earthGroup.rotation.z = THREE.MathUtils.degToRad(value);
                    updateInfoPanel();
                });

            // è‡ªè½¬é€Ÿåº¦æ§åˆ¶å™¨
            gui.add(params, 'è‡ªè½¬é€Ÿåº¦', 0, 5, 0.1)
                .name('è‡ªè½¬é€Ÿåº¦')
                .onChange(function(value) {
                    // åŒæ­¥æ›´æ–°æ’­æ”¾/æš‚åœæŒ‰é’®çŠ¶æ€
                    const playPauseBtn = document.getElementById('playPauseBtn');
                    if (value > 0 && !isPlaying) {
                        isPlaying = true;
                        playPauseBtn.textContent = 'â¸ï¸ æš‚åœè¿åŠ¨';
                        playPauseBtn.classList.remove('stop');
                    } else if (value === 0 && isPlaying) {
                        isPlaying = false;
                        playPauseBtn.textContent = 'â–¶ï¸ å¼€å§‹è¿åŠ¨';
                        playPauseBtn.classList.add('stop');
                    }
                    updateInfoPanel();
                });

            // å…¬è½¬ä½ç½®/å­£èŠ‚æ§åˆ¶å™¨
            gui.add(params, 'å…¬è½¬ä½ç½®', 0, 360, 1)
                .name('å…¬è½¬ä½ç½®/å­£èŠ‚ (Â°)')
                .onChange(function(value) {
                    // é€šè¿‡æ—‹è½¬å…‰æºä½ç½®æ¥æ¨¡æ‹Ÿåœ°çƒåœ¨å…¬è½¬è½¨é“ä¸Šçš„ä¸åŒä½ç½®
                    // 0åº¦ = æ˜¥åˆ†ï¼Œ90åº¦ = å¤è‡³ï¼Œ180åº¦ = ç§‹åˆ†ï¼Œ270åº¦ = å†¬è‡³
                    const angle = THREE.MathUtils.degToRad(value);
                    const radius = 5;
                    sunLight.position.x = Math.cos(angle) * radius;
                    sunLight.position.z = Math.sin(angle) * radius;
                    updateInfoPanel();
                });

            // æ˜¾ç¤ºè¾…åŠ©çº¿å¼€å…³
            gui.add(params, 'æ˜¾ç¤ºè¾…åŠ©çº¿')
                .name('æ˜¾ç¤ºåœ°è½´è¾…åŠ©çº¿')
                .onChange(function(value) {
                    axisHelper.visible = value;
                });

            controls = gui;

            // ==================== çª—å£å¤§å°è°ƒæ•´å¤„ç† ====================
            window.addEventListener('resize', function() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

            // åˆå§‹åŒ–ä¿¡æ¯é¢æ¿
            updateInfoPanel();

            // åˆå§‹åŒ–æ§åˆ¶æŒ‰é’®äº‹ä»¶
            initControlButtons();

            // å¼€å§‹åŠ¨ç”»å¾ªç¯
            animate();
        }

        // ==================== åˆå§‹åŒ–æ§åˆ¶æŒ‰é’® ====================
        function initControlButtons() {
            const playPauseBtn = document.getElementById('playPauseBtn');
            const zoomInBtn = document.getElementById('zoomInBtn');
            const zoomOutBtn = document.getElementById('zoomOutBtn');

            // æ’­æ”¾/æš‚åœæŒ‰é’®
            playPauseBtn.addEventListener('click', function() {
                isPlaying = !isPlaying;
                if (isPlaying) {
                    playPauseBtn.textContent = 'â¸ï¸ æš‚åœè¿åŠ¨';
                    playPauseBtn.classList.remove('stop');
                    params.è‡ªè½¬é€Ÿåº¦ = params.è‡ªè½¬é€Ÿåº¦ || 1.0; // å¦‚æœé€Ÿåº¦ä¸º0ï¼Œæ¢å¤ä¸º1.0
                } else {
                    playPauseBtn.textContent = 'â–¶ï¸ å¼€å§‹è¿åŠ¨';
                    playPauseBtn.classList.add('stop');
                    params.è‡ªè½¬é€Ÿåº¦ = 0; // æš‚åœè¿åŠ¨
                }
                updateInfoPanel();
            });

            // æ”¾å¤§æŒ‰é’®
            zoomInBtn.addEventListener('click', function() {
                cameraDistance = Math.max(2, cameraDistance - 0.5); // æœ€å°è·ç¦»ä¸º2
                updateCameraPosition();
            });

            // ç¼©å°æŒ‰é’®
            zoomOutBtn.addEventListener('click', function() {
                cameraDistance = Math.min(10, cameraDistance + 0.5); // æœ€å¤§è·ç¦»ä¸º10
                updateCameraPosition();
            });
        }

        // ==================== æ›´æ–°ç›¸æœºä½ç½®ï¼ˆç¼©æ”¾ï¼‰ ====================
        function updateCameraPosition() {
            camera.position.set(0, 0, cameraDistance);
        }

        // ==================== æ›´æ–°ä¿¡æ¯é¢æ¿ ====================
        function updateInfoPanel() {
            // è®¡ç®—å½“å‰å­£èŠ‚
            const seasonAngle = params.å…¬è½¬ä½ç½®;
            let seasonName = 'æ˜¥åˆ†';
            // æ ¹æ®å…¬è½¬ä½ç½®åˆ¤æ–­å­£èŠ‚ï¼š
            // 0åº¦ = æ˜¥åˆ†ï¼ˆå¤ªé˜³ç›´å°„èµ¤é“ï¼‰
            // 90åº¦ = å¤è‡³ï¼ˆå¤ªé˜³ç›´å°„åŒ—å›å½’çº¿ï¼ŒåŒ—åŠçƒæœ€çƒ­ï¼‰
            // 180åº¦ = ç§‹åˆ†ï¼ˆå¤ªé˜³ç›´å°„èµ¤é“ï¼‰
            // 270åº¦ = å†¬è‡³ï¼ˆå¤ªé˜³ç›´å°„å—å›å½’çº¿ï¼ŒåŒ—åŠçƒæœ€å†·ï¼‰
            if (seasonAngle >= 45 && seasonAngle < 135) {
                seasonName = 'å¤è‡³';
            } else if (seasonAngle >= 135 && seasonAngle < 225) {
                seasonName = 'ç§‹åˆ†';
            } else if (seasonAngle >= 225 && seasonAngle < 315) {
                seasonName = 'å†¬è‡³';
            }

            // åˆ¤æ–­åŒ—åŠçƒå—å…‰æƒ…å†µ
            // å½“å…¬è½¬ä½ç½®åœ¨0-90åº¦å’Œ270-360åº¦æ—¶ï¼ŒåŒ—åŠçƒå€¾å‘å¤ªé˜³ï¼Œå—ç›´å°„
            // å½“å…¬è½¬ä½ç½®åœ¨90-270åº¦æ—¶ï¼ŒåŒ—åŠçƒèƒŒå‘å¤ªé˜³ï¼Œå—æ–œå°„
            let hemisphereInfo = '';
            if ((seasonAngle >= 0 && seasonAngle < 90) || (seasonAngle >= 270 && seasonAngle <= 360)) {
                hemisphereInfo = 'ç›´å°„';
            } else {
                hemisphereInfo = 'æ–œå°„';
            }

            // æ›´æ–°ä¿¡æ¯æ˜¾ç¤º
            document.getElementById('season-info').textContent = `å½“å‰å­£èŠ‚æ¨¡æ‹Ÿï¼š${seasonName}`;
            document.getElementById('hemisphere-info').textContent = `åŒ—åŠçƒå—å…‰ï¼š${hemisphereInfo}`;
            document.getElementById('axis-info').textContent = `åœ°è½´å€¾è§’ï¼š${params.åœ°è½´å€¾æ–œåº¦.toFixed(1)}åº¦`;
            
            if (params.è‡ªè½¬é€Ÿåº¦ > 0) {
                document.getElementById('rotation-info').textContent = `è‡ªè½¬çŠ¶æ€ï¼šè¿›è¡Œä¸­ (${params.è‡ªè½¬é€Ÿåº¦.toFixed(1)}x)`;
            } else {
                document.getElementById('rotation-info').textContent = 'è‡ªè½¬çŠ¶æ€ï¼šå·²æš‚åœ';
            }
        }

        // ==================== åŠ¨ç”»å¾ªç¯ ====================
        function animate() {
            requestAnimationFrame(animate);

            // åœ°çƒè‡ªè½¬ï¼šç»•Yè½´æ—‹è½¬
            // è‡ªè½¬é€Ÿåº¦ç”±æ§åˆ¶é¢æ¿çš„å‚æ•°æ§åˆ¶ï¼Œå¦‚æœisPlayingä¸ºfalseåˆ™ä¸æ—‹è½¬
            if (earthMesh && isPlaying) {
                earthMesh.rotation.y += 0.01 * params.è‡ªè½¬é€Ÿåº¦;
            }

            // æ¸²æŸ“åœºæ™¯
            renderer.render(scene, camera);
        }

        // ==================== å¯åŠ¨åº”ç”¨ ====================
        init();
    </script>
</body>
</html>

