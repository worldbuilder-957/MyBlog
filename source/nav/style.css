/* å…¨å±€é‡ç½®ï¼šè®© Padding ä¸ä¼šæ’‘å¤§ç›’å­ */
* {
    box-sizing: border-box; /* æ ¸å¿ƒä»£ç  */
    -webkit-tap-highlight-color: transparent; /* ç§»é™¤ç‚¹å‡»æ—¶çš„é«˜äº®è‰²å— */
}

html, body {
    overflow-x: hidden; /* å¼ºåˆ¶ç¦æ­¢æ¨ªå‘æ»šåŠ¨ */
    width: 100%;
}

:root {
            /* é…è‰²æ–¹æ¡ˆï¼šç±³ç™½è‰²æµ…ä¸»é¢˜ */
            --bg-color: #f5f5f0;
            --card-bg: rgba(255, 255, 253, 0.9);
            --text-main: #333333;
            --text-sub: #666666;
            --accent: #8b8b83;
            --shadow: 0 4px 20px rgba(0,0,0,0.15);
            --radius: 24px;
        }

/* æµ…è‰²æ¨¡å¼é€‚é… */
@media (prefers-color-scheme: light) {
    :root {
        --bg-color: #f5f5f0;
        --card-bg: rgba(255, 255, 253, 0.95);
        --text-main: #333333;
        --text-sub: #666666;
    }

    /* é¡¶éƒ¨æ¨ªå¹…èƒŒæ™¯é®ç½© */
    .top-banner-bg::after {
        content: '';
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(255,255,255,0.2); /* ç›–ä¸€å±‚åŠé€æ˜ç™½è‰² */
    }
}

/* #region 1 --- æ‰‹æœºç«¯é€‚é… --- */
@media (max-width: 768px) {
    /*  ===1. å¸ƒå±€é‡æ„ï¼šä»â€œå››åˆ—â€å˜æˆâ€œå•åˆ—â€=== */
    .container {
        /* å¼ºåˆ¶å˜æˆ 1 åˆ—ï¼Œæ‰€æœ‰å¡ç‰‡å‚ç›´å †å  */
        grid-template-columns: 1fr !important;
        grid-template-rows: auto !important;
        
        /* å‡å°è¾¹è·ï¼Œæ‰‹æœºå¯¸åœŸå¯¸é‡‘ */
        padding: 15px;
        gap: 15px;
        
        /* è°ƒæ•´é¡¶éƒ¨ç•™ç™½ï¼šç”µè„‘ä¸Šä¸ºäº†çœ‹èƒŒæ™¯ç•™äº† 37.5vhï¼Œæ‰‹æœºä¸Šä¸éœ€è¦é‚£ä¹ˆå¤š */
        margin-top: 15vh !important; 
    }

    .links-card { 
        display: flex;
        flex-wrap: wrap; 
        gap: 20px;
        justify-content: center;
    }


    /* 2. å¡ç‰‡é‡ç½®ï¼šå¼ºåˆ¶æ‰€æœ‰å¡ç‰‡å æ»¡ä¸€è¡Œ */
    .card, 
    .search-box,
    .time-card,
    .todo-card,
    .weather-card,
    .stock-card, 
    .calendar-entry,
    .links-card {
        grid-column: span 1 !important; /* å¼ºåˆ¶å æ»¡æ¨ªå‘å®½åº¦ */
        grid-row: auto !important;      /* å¼ºåˆ¶å‚ç›´æ–¹å‘é¡ºå…¶è‡ªç„¶ï¼Œè‡ªåŠ¨æ’åˆ— */
        width: 100% !important;
    }

    /* 3. è‚¡ç¥¨å¡ç‰‡ç‰¹è°ƒ */
    .stock-card {
        /* æ‰‹æœºä¸Šä¸éœ€è¦ 500px é‚£ä¹ˆé«˜ï¼Œå¤ªå åœ°äº† */
        height: 400px !important; 
    }
    /* è‚¡ç¥¨æŒ‰é’®æ å˜æˆå¯æ¨ªå‘æ»‘åŠ¨ */
    .stock-tabs {
        overflow-x: auto;
        white-space: nowrap;
        padding-bottom: 5px; /* é˜²æ­¢æ»šåŠ¨æ¡é®æŒ¡ */
    }

    /* 4. å…¨å±æ—¥å†å¼¹çª—é€‚é… */
    .calendar-layout {
        /* ç”µè„‘æ˜¯å·¦å³ç»“æ„ï¼Œæ‰‹æœºå˜æˆä¸Šä¸‹ç»“æ„ */
        flex-direction: column !important;
    }

    /* ä¾§è¾¹æ  (å¾…åŠåŒº) */
    .sidebar {
        width: 100% !important; /* å æ»¡å®½ */
        height: 200px; /* ç»™ä¸ªå›ºå®šé«˜åº¦ï¼Œå‰©ä¸‹çš„ç»™æ—¥å† */
        border-right: none;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        padding: 10px;
    }
    
    /* ä¾§è¾¹æ æ ‡é¢˜å˜å° */
    .sidebar h3 { font-size: 1rem; }
    
    /* æ—¥å†ä¸»åŒºåŸŸ */
    .main {
        padding: 10px !important;
    }
    
    /* FullCalendar å­—ä½“ç¼©å° */
    .fc { font-size: 0.85rem; }
    
    /* 5. æœç´¢æ¡†é€‚é… */
    .search-box {
        height: 50px; /*ç¨å¾®å˜å° */
    }
    .search-box input {
        font-size: 1rem;
    }

    /* 6. æ—¥ç¨‹ç¼–è¾‘å¼¹çª—é€‚é… */
    .event-modal {
        width: 90% !important;       /* æ‰‹æœºä¸Šå¼¹çª—å å®½ 90% */
        max-height: 80vh;            /* é˜²æ­¢å¤ªé«˜è¶…å‡ºå±å¹• */
        overflow-y: auto;            /* å†…å®¹å¤šäº†å¯ä»¥æ»š */
    }
    .form-row {
        flex-direction: column;      /* è¡¨å•é‡Œçš„å·¦å³å¹¶æ’æ”¹æˆä¸Šä¸‹å †å  */
        gap: 10px;
    }
}
/* #endregion */

/* Bento Grid å¸ƒå±€æ ¸å¿ƒ */
.container {
    width: 100%;
    max-width: 1200px;
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* åˆ†ä¸º4åˆ— */
    grid-template-rows: repeat(4, auto);   /* è‡ªåŠ¨è¡Œé«˜ */
    gap: 20px;
    margin-top: 37.5vh;                    /* åˆå§‹é¡¶éƒ¨é—´è·ï¼Œç»™èƒŒæ™¯ç•™ç©ºé—´ */
    transition: margin-top 0.3s ease;
    position: relative;
    z-index: 1;
}

/* é€šç”¨å¡ç‰‡æ ·å¼ */
.card {
    background: var(--card-bg);
    border-radius: var(--radius);
    padding: 24px;
    box-shadow: var(--shadow);
    transition: transform 0.2s;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.card:hover {
    transform: translateY(-2px);
}

#install-btn {
    display: none; 
    padding: 10px 20px; 
    background: #007bff; 
    color: white; 
    border: none; 
    border-radius: 5px; 
    margin: 10px;
}

/* #region --- 0. é¡¶éƒ¨æ¨ªå¹…èƒŒæ™¯ (Banner) --- */
.top-banner-bg {
    /* 1. ç»å¯¹å®šä½ï¼šè®©å®ƒè„±ç¦»æ–‡æ¡£æµï¼Œæµ®åœ¨æœ€ä¸Šé¢ */
    position: fixed; /* ä½¿ç”¨ fixed å¯ä»¥è®©èƒŒæ™¯åœ¨æ»šåŠ¨æ—¶å›ºå®šä¸åŠ¨ï¼Œè§†è§‰æ•ˆæœæ›´å¥½ */
    top: 0;
    left: 0;
    width: 100%;
    height: 50vh; /* é«˜åº¦è®¾ä¸ºå±å¹•é«˜åº¦çš„ 50%ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´ (ä¾‹å¦‚ 400px) */
    z-index: -1;  /* å…³é”®ï¼å±‚çº§è®¾ä¸ºè´Ÿæ•°ï¼Œè®©å®ƒä¹–ä¹–å‘†åœ¨å†…å®¹æ–‡å­—çš„åé¢ */
    pointer-events: none;    /* è®©é¼ æ ‡äº‹ä»¶ç©¿é€ï¼Œé¿å…é®æŒ¡ç‚¹å‡» */

    /* 2. è®¾ç½®èƒŒæ™¯å›¾ç‰‡ */
    /* âš ï¸ è¿™é‡Œçš„è·¯å¾„æ¢æˆè‡ªå·±çš„å›¾ç‰‡è·¯å¾„ */
    background-image: url('banner.webp'); 
    background-size: cover;      /* ç¡®ä¿å›¾ç‰‡æ’‘æ»¡æ•´ä¸ªåŒºåŸŸï¼Œä¸å˜å½¢ */
    background-position: center top; /* å›¾ç‰‡å¯¹é½æ–¹å¼ï¼šå±…ä¸­ä¸”é ä¸Š */
    filter: saturate(150%) contrast(110%) brightness(1.0);
    transform: scale(1.05);
    background-repeat: no-repeat;

    opacity: 0.9;           /* 0.9 çš„é€æ˜åº¦ï¼Œç¨å¾®æ·¡åŒ–ä¸€ç‚¹ */

    /* 3. æ ¸å¿ƒç§‘æŠ€ï¼šæ¸å˜è’™ç‰ˆ (Magic Mask) */
    /* åŸç†ï¼šè’™ç‰ˆä¸­é»‘è‰²çš„éƒ¨åˆ†å¯è§ï¼Œé€æ˜çš„éƒ¨åˆ†ä¸å¯è§ã€‚*/
    /* ä¸‹é¢çš„ä»£ç è¡¨ç¤ºï¼šä»é¡¶éƒ¨å¼€å§‹åˆ° 85% çš„ä½ç½®æ˜¯å®Œå…¨å¯è§çš„ï¼Œç„¶åæ…¢æ…¢æ¸å˜åˆ° 100% çš„ä½ç½®å®Œå…¨é€æ˜ã€‚*/
    -webkit-mask-image: linear-gradient(to bottom, black 0%, black 15%, transparent 100%);
    mask-image: linear-gradient(to bottom, black 0%, black 15%, transparent 100%);
}

/* é…åˆè°ƒæ•´ï¼šä¸ºäº†è®©èƒŒæ™¯ä¸è¢« body çš„èƒŒæ™¯è‰²é®æŒ¡ */
body {
    background-color: var(--bg-color);            /* ä¿æŒèƒŒæ™¯è‰² */
    color: var(--text-main);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    margin: 0; 
    padding: 20px;
    min-height: 100vh;
    display: flex; 
    justify-content: center;                 /* æ°´å¹³ä¾ç„¶å±…ä¸­ */
    align-items: flex-start;                 /* ç°åœ¨æ”¹æˆ flex-start (é¡¶éƒ¨å¯¹é½) */
    position: relative;
    z-index: 0;
}
/* #endregion */

/* #region --- 1. å…¨å±€æœç´¢æ  ---  */
.search-box {
    grid-column: span 4;                /*ä½ç½®å®šä¹‰ï¼Œå æ®ç¬¬ä¸€è¡Œï¼Œè·¨4åˆ—*/
    display: flex !important;           /* å¼ºåˆ¶ä½¿ç”¨ flex å¸ƒå±€ */
    flex-direction: row;                /*å¼ºåˆ¶æ°´å¹³æ’åˆ—*/
    align-items: center;                /*å…³é”®ï¼šç¡®ä¿å‚ç›´å±…ä¸­*/
    background: var(--card-bg);
    border-radius: 50px;                /* åœ†è§’æ›´å¤§ */
    height: 64px;                       /*ç»™å‡ºä¸€ä¸ªå›ºå®šé«˜åº¦*/
    padding: 0 24px;
    position: relative;                 /* å…³é”®ï¼šä¸ºäº†è®©ä¸‹æ‹‰èœå•ç›¸å¯¹äºå®ƒå®šä½ */
    overflow: visible !important;       /* å¼ºåˆ¶æ˜¾ç¤ºä¸‹æ‹‰èœå• */
    z-index: 100 !important;            /* æé«˜å±‚çº§ï¼Œé˜²æ­¢è¢«ä¸‹é¢çš„å¡ç‰‡é®æŒ¡ */
}
.search-box i { 
    font-size: 1.4rem; 
    color: var(--text-sub); 
    margin-right: 12px;
    display: flex;                      /* è®©å›¾æ ‡è‡ªèº«ä¹Ÿæ˜¯ä¸ªå®¹å™¨ï¼Œé˜²æ­¢åŸºçº¿å¯¹é½é—®é¢˜ */
    align-items: center;
    height: 100%;                       /* æ’‘æ»¡é«˜åº¦ */
}
.search-box input {
    border: none;
    background: transparent;
    font-size: 1.2rem;
    width: 100%;
    height: 100%;
    flex: 1;                           /* å…³é”®ï¼šè®©è¾“å…¥æ¡†é«˜åº¦æ’‘æ»¡çˆ¶å®¹å™¨ */
    outline: none;
    color: var(--text-main);
    padding: 0;                        /* å…³é”®ï¼šå¼ºåˆ¶å»æ‰è¾“å…¥æ¡†é»˜è®¤çš„å†…è¾¹è· */
    margin: 0;                         /* å…³é”®ï¼šå¼ºåˆ¶å»æ‰å¤–è¾¹è· */
    line-height: normal;               /* å…³é”®ï¼šé‡ç½®è¡Œé«˜ */
}

/*  å¼•æ“é€‰æ‹©å™¨æŒ‰é’® */
.engine-selector {
    display: flex; 
    align-items: center; 
    justify-content: center;
    width: 30px; height: 30px;
    cursor: pointer;
    color: var(--text-main);
    font-size: 1.2rem;
    flex-shrink: 0;
    margin-right: 10px;
    border-radius: 6px;
    transition: background 0.2s;
}
.engine-selector:hover { background: rgba(255,255,255,0.1); }

/* å¼•æ“é€‰æ‹©å™¨ä¸‹æ‹‰èœå• (å¹³æ—¶éšè—) */
.engine-dropdown {
    display: none; /* é»˜è®¤éšè— */
    position: absolute;
    top: 50px; /* åœ¨æœç´¢æ¡†ä¸‹é¢ */
    left: 0;
    width: 120px;
    background: rgb(250, 250, 250); /* æ·±è‰²èƒŒæ™¯ */
    backdrop-filter: blur(10px);
    border: 1px solid rgb(250, 250, 250);
    border-radius: 10px;
    padding: 5px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    z-index: 1000;
    flex-direction: column;
}

/* æ˜¾ç¤ºçŠ¶æ€ (JSä¼šåˆ‡æ¢è¿™ä¸ªç±») */
.engine-dropdown.show { 
    display: flex; 
    animation: fadeIn 0.2s ease; 
}

/*  å•ä¸ªé€‰é¡¹ */
.engine-option {
    display: flex; align-items: center; gap: 10px;
    padding: 10px;
    color: var(--text-main);
    font-size: 0.9rem;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.2s;
}
.engine-option:hover { background: rgba(255,255,255,0.1); }
.engine-option i { width: 20px; text-align: center; }


@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}
/* #endregion */

/* #region --- 2. æ—¶é’Ÿå¡ç‰‡ --- */
.card.time-card {
    grid-column: span 2;
    grid-row: span 2;                                        /* å®šä¹‰2x2 å¤§æ–¹å— */
    justify-content: center;
    align-items: center;
    text-align: center;
    background-image: url('/images/shanghai_loadmap.jpg');   /* å›¾ç‰‡èƒŒæ™¯ï¼šåè·Ÿå›¾ç‰‡é“¾æ¥ï¼Œä¹Ÿå¯ä»¥æ˜¯ç½‘å›¾ï¼Œç»™å‡ºé“¾æ¥å³å¯ */
    background-size: cover;                                  /* å…³é”®å‘½ä»¤ï¼šcover (è®©å›¾ç‰‡ç­‰æ¯”ä¾‹ç¼©æ”¾å¡«æ»¡ç›’å­ï¼Œåƒè£å‰ªä¸€æ ·) */
    background-position: center;                             /* å…³é”®å‘½ä»¤ï¼šcenter (æ°¸è¿œæ˜¾ç¤ºå›¾ç‰‡çš„æ­£ä¸­å¿ƒ) */

    /* åŠ ä¸Šé®ç½©å±‚ï¼Œé˜²æ­¢å›¾ç‰‡å¤ªèŠ±çœ‹ä¸æ¸…å­— */
    box-shadow: inset 0 0 0 2000px rgba(71, 79, 97, 0.609); 

    color: rgb(255, 255, 255);
    text-shadow: 0 4px 10px rgba(0,0,0,0.5);

    background-color: transparent;   /* ä¿é™©æªæ–½ï¼Œä»¥é˜²cardèƒŒæ™¯å¹²æ‰°æ˜¾ç¤ºå›¾ç‰‡ */
}
.clock { font-size: 4rem; font-weight: 700; letter-spacing: -2px;}
.date { font-size: 1.2rem; color: var(--text-sub); margin-top: 10px;}

/* ç¡®ä¿æ—¶é’Ÿå¡ç‰‡æ˜¯å®šä½åŸºå‡† */
.card.time-card {
    position: relative;           /* è¿™ä¸€è¡Œè‡³å…³é‡è¦ï¼æ²¡æœ‰å®ƒï¼Œæ–‡å­—ä¼šé£åˆ°é¡µé¢è§’è½å» */
}

/* è§’è½æ–‡å­—é€šç”¨æ ·å¼ */
.corner-text {
    position: absolute;                        /* ç»å¯¹å®šä½ï¼šè„±ç¦»æ–‡æ¡£æµ */
    font-size: 0.9rem;                         /* å­—å·ç¨å¾®å°ä¸€ç‚¹ */
    font-style: italic;                        /* å…³é”®ï¼šè®¾ç½®ä¸ºæ–œä½“ */
    font-weight: 600;                          /* åŠç²—ä½“ï¼Œæ›´æœ‰è´¨æ„Ÿ */
    color: rgba(255, 255, 255, 0.85);        /* ç¨å¾®é€æ˜ä¸€ç‚¹çš„ç™½è‰² */
    text-shadow: 0 2px 4px rgba(0,0,0,0.8);  /* é»‘è‰²é˜´å½±ï¼Œé˜²æ­¢åœ¨åœ°å›¾äº®è‰²åŒºåŸŸçœ‹ä¸æ¸… */
    letter-spacing: 0.5px;
    font-family: 'Segoe UI', sans-serif;       /* ç¨å¾®æ¢ä¸ªå­—ä½“å¢åŠ åŒºåˆ†åº¦ */
}

/* å³ä¸Šè§’å®šä½ */
.corner-text.top-right {
    top: 20px;
    right: 24px;
}

/* å³ä¸‹è§’å®šä½ */
.corner-text.bottom-right {
    bottom: 20px;
    right: 24px;
    color: rgba(255, 255, 255, 0.85);           /* ç¨å¾®é€æ˜ä¸€ç‚¹çš„ç™½è‰² */
}

/* å¼ºåˆ¶ä¿®æ­£æ—¥æœŸé¢œè‰² */
.card.time-card .date {
    color: rgba(255, 255, 255, 0.9) !important;       /* 1. æŠŠé¢œè‰²æ”¹æˆçº¯ç™½ (å¸¦ä¸€ç‚¹ç‚¹é€æ˜åº¦çœ‹èµ·æ¥æ›´æœ‰è´¨æ„Ÿ) */
    text-shadow: 0 1px 3px rgba(0,0,0,0.8);           /* 2. å…³é”®ï¼šç»™æ–‡å­—åŠ é»‘æè¾¹/é˜´å½±ï¼ŒåŠ é˜´å½±ï¼Œå¦åˆ™å­—ä¸èƒŒæ™¯å åŠ ä¼šçœ‹ä¸è§ */
    font-weight: 500;                                   /* 3. ç¨å¾®åŠ ç²—ä¸€ç‚¹ç‚¹ï¼Œæ›´æ¸…æ™° */
}

/* #endregion */

/* #region --- 3. å¾…åŠäº‹é¡¹å¡ç‰‡ --- */
.todo-card {
    grid-column: span 1;
    grid-row: span 2;
}
.card-title { 
    font-size: 1.1rem; 
    font-weight: 600; 
    margin-bottom: 15px; 
    display: flex; 
    align-items: center; 
    gap: 8px;
}
.todo-list { 
    list-style: none; 
    padding: 0; 
    margin: 0; 
    overflow-y: auto; 
    flex: 1;
}
.todo-item { 
    display: flex; 
    align-items: center; 
    padding: 8px 0; 
    border-bottom: 1px solid rgb(251, 251, 251);
}
.todo-item input { 
    margin-right: 10px; 
}
.todo-input { 
    width: 100%; 
    padding: 10px; 
    border: 1px solid var(--text-sub); 
    border-radius: 8px; 
    margin-top: 10px; 
    background: transparent; 
    color: var(--text-main);
}
/* #endregion */

/* #region --- 4. å¤©æ°”å¡ç‰‡ --- */
.weather-card {
    grid-column: span 1;
    grid-row: span 1;

    display: flex;
    justify-content: space-between; /* å·¦å³åˆ†å¼€ */
    align-items: center;
    padding: 24px; /* æ¢å¤å†…è¾¹è· */

    /* ç»™ä¸ªæ¸å˜èƒŒæ™¯ï¼Œæ¨¡æ‹Ÿå¤©ç©º */
    background: linear-gradient(120deg, #89f7fe 0%, #66a6ff 100%);
    color: white;
    position: relative;
    overflow: hidden;
}

.weather-info {
    z-index: 2; /* ç¡®ä¿æ–‡å­—åœ¨ä¸Šé¢ */
}

.temp {
    font-size: 2.5rem;
    font-weight: 700;
    line-height: 1;
    margin-bottom: 5px;
    text-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.meta {
    font-size: 0.9rem;
    opacity: 0.9;
    display: flex;
    gap: 5px;
}

/* å³ä¾§å·¨å¤§çš„è£…é¥°å›¾æ ‡ */
.weather-icon {
    font-size: 4rem;
    opacity: 0.8;
    transform: rotate(-10deg); /* ç¨å¾®æ­ªä¸€ç‚¹ï¼Œæ¯”è¾ƒä¿çš® */
    text-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
/* #endregion */

/* #region --- 5. è‚¡ç¥¨å¡ç‰‡ (æ–°æµªç‰ˆ) --- */
.stock-card {
    grid-column: span 2;
    height: 360px !important; /* ä¸éœ€è¦å¤ªé«˜äº†ï¼Œå›¾ç‰‡æ²¡é‚£ä¹ˆå¤§ */
    padding: 0 !important;
    display: flex; flex-direction: column;
    background: rgba(30, 41, 59, 0.6); /* åŠé€æ˜æ·±è‰²åº• */
    border: 1px solid rgba(255, 255, 255, 0.1);
    overflow: hidden;
}

/* 1. é¡¶éƒ¨æŒ‰é’®æ  */
.stock-tabs {
    display: flex;
    overflow-x: auto; /* æŒ‰é’®å¤šäº†å¯ä»¥æ¨ªå‘æ»šåŠ¨ */
    background: rgba(0,0,0,0.2);
    padding: 10px;
    gap: 8px;
    border-bottom: 1px solid rgba(255,255,255,0.05);
}

.stock-btn {
    background: transparent;
    border: 1px solid rgba(255,255,255,0.2);
    color: var(--text-sub);
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 0.8rem;
    cursor: pointer;
    white-space: nowrap; /* é˜²æ­¢æ¢è¡Œ */
    transition: all 0.2s;
}

.stock-btn:hover { background: rgba(255,255,255,0.1); color: #fff; }

/* é€‰ä¸­çŠ¶æ€ */
.stock-btn.active {
    background: #007aff; 
    border-color: #007aff; 
    color: #fff;
}

/* 2. å›¾ç‰‡åŒºåŸŸ */
.stock-display {
    flex: 1;
    display: flex; justify-content: center; align-items: center;
    padding: 10px;
    background: transparent;
}

.stock-display img {
    width: 95%;
    max-width: 550px; /* é™åˆ¶æœ€å¤§å®½åº¦ï¼Œé˜²æ­¢æ¨¡ç³Š */
    height: auto;
    border-radius: 8px;
    
    /* âœ¨ æ ¸å¿ƒé­”æ³•ï¼šåè‰²æ»¤é•œ */
    /* invert(1): æŠŠç™½åº•å˜é»‘åº• */
    /* hue-rotate(180deg): ä¿®æ­£å› ä¸ºåè‰²å¯¼è‡´çš„çº¢ç»¿é¢ å€’ */
    /* contrast(0.9): é™ä½ä¸€ç‚¹å¯¹æ¯”åº¦ï¼Œè®©é»‘è‰²ä¸é‚£ä¹ˆæ­»é»‘ */
    filter: invert(1) hue-rotate(180deg) contrast(0.9);
    
    opacity: 0.9; /* ç¨å¾®é€æ˜ä¸€ç‚¹ï¼Œé€å‡ºæ˜Ÿç©º */
}
/* #endregion */

/* #region --- 6. æ±‡ç‡å¡ç‰‡æ ·å¼ --- */
.rate-card {
    grid-column: span 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 10px;
}

.rate-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.rate-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.9rem;
    padding: 6px 0;
    border-bottom: 1px solid rgba(0,0,0,0.05);
}
.rate-item:last-child { border-bottom: none; }

.rate-name {
    display: flex; align-items: center; gap: 8px;
    color: var(--text-sub); font-weight: 500;
}

.rate-val {
    font-weight: 700; color: var(--text-main);
    font-family: 'Segoe UI', monospace;
}

.rate-data {
    display: flex; flex-direction: column; align-items: flex-end; line-height: 1.2;
}

.rate-change {
    font-size: 0.7rem; margin-top: 2px; font-weight: 500;
}

/* æ¶¨è·Œé¢œè‰²ï¼šçº¢æ¶¨ç»¿è·Œ */
.rate-up { color: #ef4444; }
.rate-down { color: #22c55e; }

.rate-update-time {
    font-size: 0.7rem; color: var(--text-sub);
    text-align: right; margin-top: 5px; opacity: 0.8;
}
/* #endregion */

/* #region --- 7. å¿«æ·æ–¹å¼ (è·¨4åˆ—) --- */
.links-card {
    grid-column: span 3;
    flex-direction: row;
    justify-content: space-around;
    align-items: center;
    padding: 30px;
}
.link-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;
    color: var(--text-main);
    gap: 10px;
    transition: opacity 0.2s;
}
.link-item:hover { opacity: 0.7; }
.link-icon {
    width: 50px; height: 50px;
    background: #f0f0f0;
    border-radius: 16px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 24px;
}
/* #endregion */

/* #region --- 8. å¾…åŠäº‹é¡¹ç»„ä»¶ --- */

/* 8.1 é¡¶éƒ¨å·¥å…·æ  */
.icon-btn {
    background: none; border: none; cursor: pointer;
    font-size: 1.2rem; color: var(--accent); padding: 4px;
    border-radius: 50%; transition: background 0.2s;
}
.icon-btn:hover { background: rgba(0,0,0,0.05); }

/* 8.2 æœç´¢æ¡† */
.todo-filter {
    display: flex; align-items: center;
    background: rgba(0,0,0,0.03);
    padding: 8px 12px; border-radius: 8px; margin-bottom: 10px;
}
.todo-filter i { color: var(--text-sub); margin-right: 8px; font-size: 0.9rem;}
.todo-filter input {
    border: none; background: transparent; width: 100%;
    font-size: 0.9rem; color: var(--text-main); outline: none;
}

/* 3. å¤æ‚ä»»åŠ¡æ¡ç›® */
.todo-item {
    flex-direction: column !important; /* æ”¹ä¸ºå‚ç›´æ’åˆ— */
    align-items: flex-start !important;
    padding: 12px 0 !important;
    gap: 6px;
}
.todo-header {
    display: flex; align-items: center; width: 100%; gap: 10px;
}
.todo-text { flex: 1; font-weight: 500; font-size: 0.95rem; }
.todo-text.done { text-decoration: line-through; color: var(--text-sub); }

/* 4. ä»»åŠ¡å…ƒæ•°æ® (æ—¥æœŸã€åœ°ç‚¹) */
.todo-meta {
    display: flex; gap: 12px; font-size: 0.75rem; color: var(--text-sub);
    padding-left: 24px; /* å¯¹é½å¤é€‰æ¡†åçš„æ–‡å­— */
}
.meta-tag { display: flex; align-items: center; gap: 4px; }

/* 5. æ ‡ç­¾èƒ¶å›Š (Tag Pills) */
.tags-row {
    display: flex; gap: 6px; padding-left: 24px; flex-wrap: wrap;
}
.tag {
    font-size: 0.7rem; padding: 2px 8px; border-radius: 4px;
    background: #e3f2fd; color: #1976d2; /* é»˜è®¤è“è‰²ç³» */
}
/* ç»™â€œç´§æ€¥â€æ ‡ç­¾ç‰¹æ®Šé¢œè‰² */
.tag[data-name="ç´§æ€¥"] { background: #ffebee; color: #c62828; }
.tag[data-name="GIS"] { background: #e8f5e9; color: #2e7d32; }

/* --- æ ‡ç­¾è¾“å…¥æ¡†ç»„ä»¶æ ·å¼ --- */
.tag-input-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    padding: 8px;
    border: 1px solid rgba(100, 105, 115, 0.5);
    border-radius: 8px;
    background: rgba(250, 250, 251, 0.8);
    min-height: 42px;
    align-items: center;
    cursor: text;
}
.tag-input-wrapper:focus-within {
    border-color: #6b7280;
}
.tag-input-wrapper input {
    border: none !important;
    background: transparent !important;
    padding: 0 !important;
    margin: 0 !important;
    flex: 1;
    min-width: 80px;
    height: 24px;
    outline: none;
}

/* èƒ¶å›Šæ ·å¼ */
.tag-chip-edit {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 4px 10px;
    border-radius: 20px;
    color: white;
    font-size: 0.85rem;
    user-select: none;
    transition: transform 0.1s;
}
.tag-chip-edit:active { transform: scale(0.95); }

/* åˆ é™¤å›¾æ ‡ */
.tag-remove {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    background: rgba(255, 255, 255, 0.3); /* åŠé€æ˜èƒŒæ™¯ */
    border-radius: 50%;
    cursor: pointer;
    transition: background 0.2s;
}
.tag-remove:hover { background: rgba(255, 255, 255, 0.5); }
.tag-remove i { font-size: 12px; }

/* ä¸‹æ‹‰èœå• */
.tag-dropdown {
    position: absolute;
    top: 100%; left: 0; width: 100%;
    background: var(--card-bg);
    border: 1px solid rgba(0,0,0,0.1);
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    z-index: 100;
    max-height: 150px;
    overflow-y: auto;
    display: none;
    margin-top: 4px;
}
.tag-option {
    padding: 8px 12px;
    cursor: pointer;
    color: var(--text-main);
    font-size: 0.9rem;
}
.tag-option:hover { background: rgba(0,0,0,0.05); }

/* ----- å¼¹çª— (Dialog) æ ·å¼ ----- */
.modal {
    border: none; border-radius: 16px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    padding: 0; width: 90%; max-width: 400px;
    background: var(--card-bg); color: var(--text-main);
}
.modal::backdrop { 
    background: rgba(0,0,0,0.4); 
    backdrop-filter: blur(2px); 
}
.modal-content { 
    padding: 24px; 
    display: flex; 
    flex-direction: column; 
    gap: 16px; 
}
.modal h3 { 
    margin: 0; 
    display: flex; 
    align-items: center; 
    gap: 8px;
}

.form-group { 
    display: flex; 
    flex-direction: column; 
    gap: 6px; 
}
.form-row { display: flex; gap: 10px; }
.form-group label { 
    font-size: 0.8rem; 
    color: var(--text-sub); 
    font-weight: 600;
}
.form-group input {
    padding: 10px; 
    border: 1px solid rgba(0,0,0,0.1); 
    border-radius: 8px;
    background: var(--bg-color); 
    color: var(--text-main); 
    outline: none;
}
.form-group input:focus { border-color: var(--accent); }

.modal-actions { display: flex; justify-content: flex-end; gap: 10px; margin-top: 10px;}
.btn { 
    padding: 8px 16px; 
    border-radius: 8px; 
    cursor: pointer; 
    border: none; 
    font-weight: 600;
}
.btn.primary { 
    background: var(--text-main); 
    color: var(--card-bg); 
}
.btn.secondary { 
    background: transparent; 
    color: var(--text-sub); 
}
/* #endregion */

/* #region --- Wetab é£æ ¼åº”ç”¨ç½‘æ ¼ --- */
.links-card {
    /* è®©å¡ç‰‡ç¨å¾®é«˜ä¸€ç‚¹ï¼Œå®¹çº³æ›´å¤šå›¾æ ‡ */
    grid-column: span 1; /* æˆ–è€… span 2 çœ‹ä½ å–œå¥½ */
    min-height: 200px;
    display: flex; flex-direction: column;
}

/* ç½‘æ ¼å®¹å™¨ï¼šè‡ªåŠ¨æ’åˆ—ï¼Œä¸€è¡Œæ’ä¸ä¸‹å°±æ¢è¡Œ */
.app-grid {
    display: grid;
    /* é­”æ³•ä»£ç ï¼šæ¯åˆ—æœ€å° 70pxï¼Œè‡ªåŠ¨å¡«å……åˆ—æ•° */
    grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
    gap: 15px; /* å›¾æ ‡ä¹‹é—´çš„é—´è· */
    padding-top: 15px;
    overflow-y: auto; /* å›¾æ ‡å¤ªå¤šæ—¶å¯ä»¥æ»šåŠ¨ */
}

/* å•ä¸ªåº”ç”¨é¡¹ */
.app-item {
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    text-decoration: none;
    gap: 8px; /* å›¾æ ‡å’Œæ–‡å­—çš„è·ç¦» */
    transition: transform 0.2s;
}

.app-item:hover {
    transform: translateY(-5px); /* æ‚¬åœæ—¶å¾®å¾®ä¸Šæµ® */
}

/* å›¾æ ‡å®¹å™¨ */
.app-icon {
    width: 48px; height: 48px;
    background: rgba(255, 255, 255, 0.05); /* æ·¡æ·¡çš„èƒŒæ™¯ */
    border-radius: 12px; /* åœ†è§’çŸ©å½¢ */
    display: flex; align-items: center; justify-content: center;
    font-size: 1.5rem; /* å›¾æ ‡å¤§å° */
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.2s;
}

.app-item:hover .app-icon {
    background: rgba(255, 255, 255, 0.1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

/* åº”ç”¨åç§° */
.app-name {
    font-size: 0.75rem;
    color: var(--text-sub);
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    width: 100%;
}

.app-item:hover .app-name {
    color: var(--text-main);
}
/* #endregion */

/* #region --- 8. æ—¥å†ç³»ç»Ÿç»„ä»¶ --- */

/*  --- 8.1 å…¨å±å¼¹çª—å®¹å™¨ --- */
.full-screen-modal {
    position: fixed; top: 0; left: 0;
    width: 100%; height: 100%;   /* ğŸ‘ˆ ä¿®æ”¹ï¼šæ”¹ç”¨ 100% é¿å…è§†å£å•ä½è®¡ç®—è¯¯å·® */
    overflow: hidden;            /* ğŸ‘ˆ æ–°å¢ï¼šæ ¸å¿ƒä»£ç ï¼Œå¼ºåˆ¶éšè—å¼¹çª—è‡ªèº«çš„æ»šåŠ¨æ¡ */
    background: rgba(244, 244, 244, 0.98);       /* ç™½è‰²èƒŒæ™¯ï¼Œé«˜é€æ˜åº¦ */
    z-index: 9999;
    border: none; padding: 0; margin: 0;
    max-width: none; max-height: none;
    display: none;                                 /* é»˜è®¤éšè— */
    flex-direction: column;
}

/* æ‰“å¼€æ—¶çš„åŠ¨ç”» */
.full-screen-modal[open] {
    display: flex;
    animation: slideUp 0.3s ease;                   /* ä»ä¸‹å¾€ä¸Šç¼“ç¼“æ»‘å…¥ */
}

@keyframes slideUp {
    from { transform: translateY(100%); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

/* 2. å¸ƒå±€éª¨æ¶ */
.calendar-layout {
    display: flex; width: 100%; height: 100%;
}

/* å·¦ä¾§ï¼šå¾…åŠä¾§è¾¹æ  */
.sidebar {
    width: 280px;
    background: rgb(248, 249, 250);
    border-right: 1px solid rgb(142, 142, 142);
    padding: 20px;
    display: flex; flex-direction: column; gap: 15px;
}

.sidebar h3 {
    margin: 0; font-size: 1.1rem; color: var(--text-main);
    display: flex; align-items: center; gap: 8px;
}

/* å¾…æ’æœŸä»»åŠ¡å®¹å™¨ */
#external-events {
    flex: 1; overflow-y: auto;
    display: flex; flex-direction: column; gap: 10px;
    padding-right: 5px;
}

/* å•ä¸ªå¯æ‹–æ‹½ä»»åŠ¡å— */
.fc-event-main { color: inherit; }               /* ä¿®å¤æ–‡å­—é¢œè‰² */
.draggable-item {
    padding: 12px;
    background: rgb(248, 249, 250);
    border-radius: 8px;
    cursor: grab;
    font-size: 0.9rem;
    color: var(--text-main);
    border-left: 3px solid var(--accent);            /* ç°è‰²å·¦è¾¹æ¡ */
    transition: all 0.2s;
}

.draggable-item:hover {
    background: rgb(177, 151, 151);
    transform: translateX(4px);
}

/* å³ä¾§ï¼šæ—¥å†ä¸»åŒº */
.main {
    flex: 1; padding: 20px;
    display: flex; flex-direction: column; gap: 15px;
    overflow: hidden;                                            /* é˜²æ­¢æ’‘å¼€ */
    height: 100%;                                                /* å¼ºåˆ¶å æ»¡é«˜åº¦ */
    background: rgb(255, 255, 255);                            /* ä¸»èƒŒæ™¯é¢œè‰² */
    min-height: 0;                                               /* å…è®¸ flex å­å…ƒç´ æ”¶ç¼© */
}

/* é¡¶éƒ¨å·¥å…·æ  */
.toolbar { display: flex; justify-content: space-between; align-items: center; }

.btn-add {
    background: rgba(249, 248, 248, 0.8); border: none;
    color: var(--text-main); padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    display: flex; align-items: center; gap: 6px;
    transition: background 0.2s;
}

.btn-add:hover { background: rgba(253, 253, 253, 0.9); }

.btn-close {
    background: rgba(251, 250, 250, 0.8); border: none;
    color: var(--text-main); padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    display: flex; align-items: center; gap: 6px;
    transition: background 0.2s;
}

.btn-close:hover { background: rgba(252, 252, 252, 0.9); }

/* æ—¥å†æœ¬ä½“ç¾åŒ– (FullCalendar è¦†ç›–æ ·å¼) */
#calendar {
    flex: 1;
    background: rgb(255, 255, 255);
    border-radius: 12px;
    padding: 15px;
    color: var(--text-main);
    overflow: hidden;                    /* é˜²æ­¢å†…å®¹æº¢å‡º */
}

/* ç¡®ä¿æ—¶é—´ç½‘æ ¼è§†å›¾çš„å®¹å™¨å¯è§ */
#calendar .fc-timeGrid-view .fc-scroller {
    overflow-y: auto !important;
    overflow-x: hidden !important;
}

#calendar .fc-timeGrid-view .fc-timegrid-body {
    position: relative !important;
}

/* FullCalendar æ·±è‰²ä¸»é¢˜è¦†ç›– */
.fc-theme-standard {
    background: transparent;
}

.fc-theme-standard td, 
.fc-theme-standard th {
    border-color: rgba(191, 200, 218, 0.847);
}

.fc-col-header-cell-cushion,
.fc-daygrid-day-number {
    color: var(--text-main);
    text-decoration: none;
}

.fc-timegrid-slot-label-cushion {
    color: var(--text-sub);
}

.fc-toolbar {
    color: var(--text-main);
    margin-bottom: 15px;
}

.fc-button {
    background: rgba(182, 194, 222, 0.8) !important;
    border: 1px solid rgba(193, 203, 221, 0.774) !important;
    color: var(--text-main) !important;
    border-radius: 6px !important;
}

.fc-button:hover {
    background: rgba(197, 209, 238, 0.9) !important;
}

.fc-button-primary:not(:disabled):active,
.fc-button-primary:not(:disabled).fc-button-active {
    background: rgba(195, 205, 232, 0.9) !important;
}

.fc-event {
    border: none !important;
    border-radius: 6px !important;
    padding: 2px 4px !important;
    margin: 1px 0 !important;
    cursor: pointer !important;
    font-size: 0.85rem !important;
}

.fc-event-title {
    font-weight: 500 !important;
    padding: 2px 4px !important;
}

/* ç¡®ä¿æ—¶é—´ç½‘æ ¼è§†å›¾å¯è§ */
.fc-timeGrid-view .fc-timegrid-slot {
    height: 2.5em !important;
    border-top: 1px solid rgba(191, 200, 218, 0.3) !important;
}

.fc-timeGrid-view .fc-timegrid-slot-label {
    padding: 0 8px !important;
    font-size: 0.75rem !important;
    color: var(--text-sub) !important;
}

.fc-timeGrid-view .fc-timegrid-col-frame {
    border-left: 1px solid rgba(191, 200, 218, 0.3) !important;
}

/* ç¡®ä¿äº‹ä»¶åœ¨æ—¶é—´ç½‘æ ¼ä¸­å¯è§ */
.fc-timegrid-event {
    border-radius: 4px !important;
    padding: 2px 6px !important;
    margin: 1px 2px !important;
}

.fc-timegrid-event .fc-event-title {
    white-space: normal !important;          /* å…è®¸æ–‡å­—æ¢è¡Œ */
    overflow: hidden !important;
    text-overflow: ellipsis !important;      /* è¶…å‡ºéƒ¨åˆ†æ˜¾ç¤ºçœç•¥å· */
    word-break: break-word ;
}

.fc-day-today {
    background: rgba(107, 114, 128, 0.2) !important;
}

/* ç¡®ä¿æ—¶é—´è½´åˆ—å¯è§ */
.fc-timegrid-axis {
    width: 60px !important;
    border-right: 1px solid rgba(191, 200, 218, 0.5) !important;
}

.fc-timegrid-axis-frame {
    text-align: right !important;
    padding-right: 8px !important;
}

/* ç¡®ä¿æŒ‰é’®ç»„æ­£å¸¸æ˜¾ç¤º */
.fc-toolbar-chunk {
    display: flex;
    align-items: center;
    gap: 4px;
}

.fc-button-group {
    display: flex;
    gap: 2px;
}

/* å“åº”å¼ä¼˜åŒ– */
@media (max-width: 768px) {
    #calendar {
        padding: 10px;
    }
    
    .fc-toolbar {
        flex-direction: column;
        gap: 10px;
    }
    
    .fc-toolbar-chunk {
        width: 100%;
        justify-content: center;
    }
}
/* #endregion */

/* #region --- æ—¥ç¨‹ç¼–è¾‘æ¨¡æ€æ¡†æ ·å¼ --- */
.modal {
    border: none;
    border-radius: 16px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    background: rgb(255, 255);          /* "æ·»åŠ æ—¥ç¨‹"æŒ‰é’®çš„è¾¹é¢œè‰² */
    padding: 0;
    width: 90%;
    max-width: 500px;
    background: #ffffff;
    color: var(--text-main);
}

.modal::backdrop {
    background: rgba(178, 178, 178, 0.5);
    backdrop-filter: blur(4px);
}

.modal-content {
    padding: 24px;
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.modal h3 {
    margin: 0;
    display: flex;
    align-items: center;
    gap: 8px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.form-row {
    display: flex;
    gap: 10px;
}

.form-group label {
    font-size: 0.8rem;
    color: var(--text-sub);
    font-weight: 600;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    min-width: 0;
    padding: 10px;
    border: 1px solid rgba(100, 105, 115, 0.5);
    border-radius: 8px;
    background: rgba(250, 250, 251, 0.8);
    color: var(--text-main);
    outline: none;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    border-color: #6b7280;
}

.modal-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 10px;
}

.btn {
    padding: 8px 16px;
    border-radius: 8px;
    cursor: pointer;
    border: none;
    font-weight: 600;
    transition: background 0.2s;
}

.btn.primary {
    background: rgb(51, 112, 255);
    color: #ffffff;
}

.btn.primary:hover {
    background: rgba(117, 124, 138, 0.9);
}

.btn.secondary {
    background: rgb(51, 112, 255);
    color: #ffffff;
}

.btn.secondary:hover {
    background: rgba(84, 89, 102, 0.9);
}
/* #endregion */

/* #region --- åº”ç”¨å›¾æ ‡è·³è½¬é“¾æ¥ --- */
.glass-folder {
    /* Container Specs */
    width: 100%;
    max-width: 300px; /* Responsive limit */
    aspect-ratio: 1 / 1;
    margin: 0 auto; /* Center in grid cell if smaller */
    
    /* Visual Specs (Glassmorphism) */
    background: rgba(255, 255, 255, 0.5);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 24px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    
    /* Grid Layout */
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    gap: 10px;
    padding: 12px;
    
    /* Animation */
    transition: transform 0.2s;
    
    /* Default Grid Position (Fallback) */
    grid-column: span 1;
}

.glass-folder:hover {
    transform: translateY(-2px);
}

/* App Icons (Top-Left, Top-Right, Bottom-Left) */
.glass-folder .app-icon {
    width: 100%;
    height: 100%;
    border-radius: 18px; /* Smooth corners */
    display: flex;
    justify-content: center;
    align-items: center;
    text-decoration: none;
    font-size: 2.5rem;
    color: white;
    transition: transform 0.2s, filter 0.2s;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.glass-folder .app-icon:hover {
    transform: scale(1.05);
    filter: brightness(1.1);
}

/* Brand Colors */
.glass-folder .app-icon.gemini { 
    background: linear-gradient(135deg, #4E75F5, #9E6CFF); 
}
.glass-folder .app-icon.chatgpt { 
    background: linear-gradient(135deg, #74AA9C, #10A37F); 
}
.glass-folder .app-icon.claude { 
    background: linear-gradient(135deg, #D97757, #C66244); 
}

/* Cell 4: Micro-Grid (Bottom-Right) */
.glass-folder .mini-grid {
    width: 100%;
    height: 100%;
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    gap: 6px; /* Tighter gap for nested grid */
    padding: 4px;
    background: rgba(255, 255, 255, 0.25); /* Subtle container bg */
    border-radius: 18px;
    backdrop-filter: blur(5px);
}

.glass-folder .mini-icon {
    width: 100%;
    height: 100%;
    border-radius: 8px; /* Smaller radius */
    display: flex;
    justify-content: center;
    align-items: center;
    text-decoration: none;
    font-size: 1.2rem;
    color: white;
    transition: transform 0.2s;
}

.glass-folder .mini-icon:hover {
    transform: scale(1.15);
    z-index: 2;
}

/* Micro Icon Brands */
.glass-folder .mini-icon.youtube { background: linear-gradient(135deg, #FF0000, #D40000); }
.glass-folder .mini-icon.bilibili { background: linear-gradient(135deg, #00A1D6, #008AC0); }
.glass-folder .mini-icon.zhihu { background: linear-gradient(135deg, #0084FF, #0070D9); }
.glass-folder .mini-icon.xiaohongshu { background: linear-gradient(135deg, #FF2442, #D91030); }

/* Dark Mode Support */
@media (prefers-color-scheme: dark) {
    .glass-folder {
        background: rgba(40, 40, 40, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }
    .glass-folder .mini-grid {
        background: rgba(0, 0, 0, 0.2);
    }
}
/* #endregion */